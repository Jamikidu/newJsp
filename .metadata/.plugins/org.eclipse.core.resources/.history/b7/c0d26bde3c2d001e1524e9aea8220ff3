<%@page import="oops_p.Exam"%>
<%@page import="java.util.Arrays"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>numReg2</title>
</head>
<body>
<%
	String [] per = request.getParameterValues("per");
	String [] kor = request.getParameterValues("kor");
	String [] eng = request.getParameterValues("eng");
	String [] math = request.getParameterValues("math");
	
	Exam [] exam = new Exam[per.length];
	
	for(int i=0; i<per.length; i++){
		exam[i] = new Exam(per[i], kor[i], eng[i], math[i]);
	}
	
	System.out.println(Arrays.toString(exam));
	
	for(int i=0; i < exam.length ; i++) {
		exam[i].rankCalc(exam);
	}
	
	/*int [] sum = new int[per.length];
	float [] avg = new float[per.length];
	for(int i=0; i<sum.length; i++){ // 총점,평균 구하는 for문
		sum[i] += Integer.parseInt(kor[i])+Integer.parseInt(eng[i])+Integer.parseInt(math[i]);
		avg[i] += (float)sum[i] / 3;
	};*/
%>
<h1>numReg</h1>
<!-- 출력부 -->
<table border="">
	<tr>
		<th>&nbsp;*4이름&nbsp;&nbsp;</th>
		<th>&nbsp;&nbsp;국어&nbsp;&nbsp;</th>
		<th>&nbsp;&nbsp;수학&nbsp;&nbsp;</th>
		<th>&nbsp;&nbsp;영어&nbsp;&nbsp;</th>
		<th>&nbsp;&nbsp;총점&nbsp;&nbsp;</th>
		<th>&nbsp;&nbsp;평균&nbsp;&nbsp;</th>
		<th>&nbsp;&nbsp;등급&nbsp;&nbsp;</th>
		<th>&nbsp;&nbsp;등수&nbsp;&nbsp;</th>
	</tr>
	
	 <% for(int i=0;i<per.length;i++){ %>
	 <tr align="center">
		<td><%=per[i] %></td>
		<td><%=kor[i] %></td>
		<td><%=eng[i] %></td>
		<td><%=math[i] %></td>
		<td><%=exam[i].tot %></td>
		<td><%=exam[i].avg %></td>
		<td align="center"><%=exam[i].grade%></td>
		<td align="center"><%=exam[i].rank%></td>
		
	</tr>
	<% } %>
</table>
</body>
</html>
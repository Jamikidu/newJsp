<%@page import="oops_p.Exam"%>
<%@page import="java.util.Arrays"%>
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c" %>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>numReg2</title>
</head>
<body>
<%
	String [] per = request.getParameterValues("per");
	String [] kor = request.getParameterValues("kor");
	String [] eng = request.getParameterValues("eng");
	String [] math = request.getParameterValues("math");
	
	Exam [] exam = new Exam[per.length];
	
	for(int i=0; i<per.length; i++){
		exam[i] = new Exam(per[i], kor[i], eng[i], math[i]);
	}
	
	System.out.println(Arrays.toString(exam));
	
	for(int i=0; i < exam.length ; i++) {
		exam[i].rankCalc(exam);
	}
	
	/*int [] sum = new int[per.length];
	float [] avg = new float[per.length];
	for(int i=0; i<sum.length; i++){ // 총점,평균 구하는 for문
		sum[i] += Integer.parseInt(kor[i])+Integer.parseInt(eng[i])+Integer.parseInt(math[i]);
		avg[i] += (float)sum[i] / 3;
	};*/
%>
<h1>numReg</h1>
<!-- 출력부 -->
<table border="">
	<tr>
		<th>이름</th>
		<th>국어</th>
		<th>수학</th>
		<th>영어</th>
		<th>총점</th>
		<th>평균</th>
		<th>등급</th>
		<th> 등수 </th>
	</tr>
	
	 <% for(int i=0;i<per.length;i++){ %>
	 <tr>
		<td><input type="text" value="<%=per[i] %>" /></td>
		<td><input type="text" value="<%=kor[i] %>" /></td>
		<td><input type="text" value="<%=eng[i] %>" /></td>
		<td><input type="text" value="<%=math[i] %>" /></td>
		<td><input type="text" value="<%=exam[i].tot %>" /></td>
		<td><input type="text" value="<%=exam[i].avg %>" /></td>
		<td><input type="text" value="<%=exam[i].grade %>" /></td>
		<td><%=exam[i].rank %></td>
		
	</tr>
	<% } %>
</table>
</body>
</html>